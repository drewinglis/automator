// Generated by CoffeeScript 1.6.3
var Automator;

Automator = (function() {
  Automator.prototype.options = {
    namespace: "automator"
  };

  function Automator(datastore, options) {
    if (options == null) {
      options = {};
    }
    $.extend(this.options, options);
    this.datastore = datastore;
    this.categories = datastore.getTable("" + this.options.namespace + "-categories");
    this.words = datastore.getTable("" + this.options.namespace + "-words");
  }

  Automator.prototype.train = function(text, category) {
    var textArray;
    textArray = text.split(" ");
    this._increment(this.categories(category));
  };

  Automator.prototype.classify = function(text) {
    return {
      classification: {
        category: "unknown",
        reason: [],
        confidence: 0
      }
    };
  };

  Automator.prototype._increment = function(table, name) {
    var count, record;
    record = (table.query({
      name: name
    }))[0];
    if (record != null) {
      record = table.insert({
        name: name,
        count: 0
      });
    }
    count = record.get("count");
    return record.set('count', count + 1);
  };

  return Automator;

})();
